---
# front matter tells Jekyll to process Liquid
---
<!DOCTYPE html>
<html class=" js no-touch svg inlinesvg svgclippaths no-ie8compat" style="">
  {% include head.html %}
  <body class="homepage homepage_index">
    {% include header.html %}
    <main class="content container" role="main">
        <div class="content-row">
    	{% include nav.html %}
    	 <article class="inner-content">
          <div class="inner-content">

						<h1 id="the-chair-of-br-network-architectures-and-services">Figure 4 and 5</h1>
						    		<p></p>
						<h5>CGroups version 1</h5>
						<div class="container">
						<div class="row">
						<div class="col-12 col-lg-6 col-xl-4">
							<figure class="figure">
								<img class="figure-img img-fluid" src="{{site.baseurl}}/figures/v1/hdr-histogram-latencies-pre-rate1400000-repeat0.pcap.zst.trim_ms0.percentiles.csv.pdf.svg"  alt="figures/v1/hdr-histogram-latencies-pre-rate1400000-repeat0.pcap.zst.trim_ms0.percentiles.csv.pdf.svg">
								<figcaption class="figure-caption">Rate: 1.52 Mpkts/s, Repeat 0</figcaption>
							</figure>
						</div>
												<div class="col-12 col-lg-6 col-xl-4">
							<figure class="figure">
								<img class="figure-img img-fluid" src="{{site.baseurl}}/figures/v1/hdr-histogram-latencies-pre-rate1400000-repeat1.pcap.zst.trim_ms0.percentiles.csv.pdf.svg"  alt="figures/v1/hdr-histogram-latencies-pre-rate1400000-repeat1.pcap.zst.trim_ms0.percentiles.csv.pdf.svg">
								<figcaption class="figure-caption">Rate: 1.52 Mpkts/s, Repeat 1</figcaption>
							</figure>
						</div>
												<div class="col-12 col-lg-6 col-xl-4">
							<figure class="figure">
								<img class="figure-img img-fluid" src="{{site.baseurl}}/figures/v1/hdr-histogram-latencies-pre-rate1400000-repeat2.pcap.zst.trim_ms0.percentiles.csv.pdf.svg"  alt="figures/v1/hdr-histogram-latencies-pre-rate1400000-repeat2.pcap.zst.trim_ms0.percentiles.csv.pdf.svg">
								<figcaption class="figure-caption">Rate: 1.52 Mpkts/s, Repeat 2</figcaption>
							</figure>
						</div>
												<div class="col-12 col-lg-6 col-xl-4">
							<figure class="figure">
								<img class="figure-img img-fluid" src="{{site.baseurl}}/figures/v1/hdr-histogram-latencies-pre-rate7000000-repeat0.pcap.zst.trim_ms0.percentiles.csv.pdf.svg"  alt="figures/v1/hdr-histogram-latencies-pre-rate7000000-repeat0.pcap.zst.trim_ms0.percentiles.csv.pdf.svg">
								<figcaption class="figure-caption">Rate: 6.24 Mpkts/s, Repeat 0</figcaption>
							</figure>
						</div>
												<div class="col-12 col-lg-6 col-xl-4">
							<figure class="figure">
								<img class="figure-img img-fluid" src="{{site.baseurl}}/figures/v1/hdr-histogram-latencies-pre-rate7000000-repeat1.pcap.zst.trim_ms0.percentiles.csv.pdf.svg"  alt="figures/v1/hdr-histogram-latencies-pre-rate7000000-repeat1.pcap.zst.trim_ms0.percentiles.csv.pdf.svg">
								<figcaption class="figure-caption">Rate: 6.24 Mpkts/s, Repeat 1</figcaption>
							</figure>
						</div>
												<div class="col-12 col-lg-6 col-xl-4">
							<figure class="figure">
								<img class="figure-img img-fluid" src="{{site.baseurl}}/figures/v1/hdr-histogram-latencies-pre-rate7000000-repeat2.pcap.zst.trim_ms0.percentiles.csv.pdf.svg"  alt="figures/v1/hdr-histogram-latencies-pre-rate7000000-repeat2.pcap.zst.trim_ms0.percentiles.csv.pdf.svg">
								<figcaption class="figure-caption">Rate: 6.24 Mpkts/s, Repeat 2</figcaption>
							</figure>
						</div>
						</div>
						</div>
						<h5>CGroups version 2</h5>
												<div class="container">
						<div class="row">
						<div class="col-12 col-lg-6 col-xl-4">
							<figure class="figure">
								<img class="figure-img img-fluid" src="{{site.baseurl}}/figures/v2/hdr-histogram-latencies-pre-rate1400000-repeat0.pcap.zst.trim_ms0.percentiles.csv.pdf.svg"  alt="figures/v2/hdr-histogram-latencies-pre-rate1400000-repeat0.pcap.zst.trim_ms0.percentiles.csv.pdf.svg">
								<figcaption class="figure-caption">Rate: 1.52 Mpkts/s, Repeat 0</figcaption>
							</figure>
						</div>
												<div class="col-12 col-lg-6 col-xl-4">
							<figure class="figure">
								<img class="figure-img img-fluid" src="{{site.baseurl}}/figures/v2/hdr-histogram-latencies-pre-rate1400000-repeat1.pcap.zst.trim_ms0.percentiles.csv.pdf.svg"  alt="figures/v2/hdr-histogram-latencies-pre-rate1400000-repeat1.pcap.zst.trim_ms0.percentiles.csv.pdf.svg">
								<figcaption class="figure-caption">Rate: 1.52 Mpkts/s, Repeat 1</figcaption>
							</figure>
						</div>
												<div class="col-12 col-lg-6 col-xl-4">
							<figure class="figure">
								<img class="figure-img img-fluid" src="{{site.baseurl}}/figures/v2/hdr-histogram-latencies-pre-rate1400000-repeat2.pcap.zst.trim_ms0.percentiles.csv.pdf.svg"  alt="figures/v2/hdr-histogram-latencies-pre-rate1400000-repeat2.pcap.zst.trim_ms0.percentiles.csv.pdf.svg">
								<figcaption class="figure-caption">Rate: 1.52 Mpkts/s, Repeat 2</figcaption>
							</figure>
						</div>
												<div class="col-12 col-lg-6 col-xl-4">
							<figure class="figure">
								<img class="figure-img img-fluid" src="{{site.baseurl}}/figures/v2/hdr-histogram-latencies-pre-rate7000000-repeat0.pcap.zst.trim_ms0.percentiles.csv.pdf.svg"  alt="figures/v2/hdr-histogram-latencies-pre-rate7000000-repeat0.pcap.zst.trim_ms0.percentiles.csv.pdf.svg">
								<figcaption class="figure-caption">Rate: 6.24 Mpkts/s, Repeat 0</figcaption>
							</figure>
						</div>
												<div class="col-12 col-lg-6 col-xl-4">
							<figure class="figure">
								<img class="figure-img img-fluid" src="{{site.baseurl}}/figures/v2/hdr-histogram-latencies-pre-rate7000000-repeat1.pcap.zst.trim_ms0.percentiles.csv.pdf.svg"  alt="figures/v2/hdr-histogram-latencies-pre-rate7000000-repeat1.pcap.zst.trim_ms0.percentiles.csv.pdf.svg">
								<figcaption class="figure-caption">Rate: 6.24 Mpkts/s, Repeat 1</figcaption>
							</figure>
						</div>
												<div class="col-12 col-lg-6 col-xl-4">
							<figure class="figure">
								<img class="figure-img img-fluid" src="{{site.baseurl}}/figures/v2/hdr-histogram-latencies-pre-rate7000000-repeat2.pcap.zst.trim_ms0.percentiles.csv.pdf.svg"  alt="figures/v2/hdr-histogram-latencies-pre-rate7000000-repeat2.pcap.zst.trim_ms0.percentiles.csv.pdf.svg">
								<figcaption class="figure-caption">Rate: 6.24 Mpkts/s, Repeat 2</figcaption>
							</figure>
						</div>
						</div>
						</div>
						<h2>Steps to reproduce the taken measurements</h2>
						<h3>OS images</h3>
						<hr>
						<p>These Images were used for the experiments</p>
						
						    		<p><a class="btn btn-outline-primary" data-bs-toggle="collapse" href="#collapseDUTImage" role="button" aria-expanded="false" aria-controls="collapseDUTImage">
						    DuT
						  </a></p>
						  <div class="collapse" id="collapseDUTImage">
							{% include debian_bullseye_rt.html %}
						</div>
						 </div>
						<p><a class="btn btn-outline-primary" data-bs-toggle="collapse" href="#collapseContainerImage" role="button" aria-expanded="false" aria-controls="collapseContainerImage">
						    Container on DuT
						  </a></p>
						  <div class="collapse" id="collapseContainerImage">
							  {% include container_image_default.html %}
						 </div>
						<p><a class="btn btn-outline-primary" data-bs-toggle="collapse" href="#collapseLoadgenImage" role="button" aria-expanded="false" aria-controls="collapseLoadgenImage">
						    Loadgen
						  </a></p>
						  <div class="collapse" id="collapseLoadgenImage">
							  {% include debian_buster_default.html %}
						 </div>
						
						<p><a class="btn btn-outline-primary" data-bs-toggle="collapse" href="#collapseTimerImage" role="button" aria-expanded="false" aria-controls="collapseTimerImage">
						    Timer
						  </a></p>
						  <div class="collapse" id="collapseTimerImage">
							  {% include debian_bullseye_default.html %}
						 </div>
						
						
						<p><a class="btn btn-outline-primary" data-bs-toggle="collapse" href="#collapseEvaluatorImage" role="button" aria-expanded="false" aria-controls="collapseEvaluatorImage">
						    Evaluator
						  </a></p>
						  <div class="collapse" id="collapseEvaluatorImage">
							  {% include debian_bullseye_default.html %}
						 </div>
						<p></p>
						<h3>Setup</h3>
						<hr>
						<p><a class="btn btn-outline-primary" data-bs-toggle="collapse" href="#setupLoadGen" role="button" aria-expanded="false" aria-controls="setupLoadGen">
						    LoadGen
						  </a></p>
						  <div class="collapse" id="setupLoadGen">
							  {% include setup_loadgen.html %}
						 </div>
						 <p><a class="btn btn-outline-primary" data-bs-toggle="collapse" href="#setupTimer" role="button" aria-expanded="false" aria-controls="setupTimer">
						    Timer
						  </a></p>
						  <div class="collapse" id="setupTimer">
							  {% include setup_loadgen.html %}
						 </div>
						<p><a class="btn btn-outline-primary" data-bs-toggle="collapse" href="#setupDuT" role="button" aria-expanded="false" aria-controls="setupDuT">
						    DuT CGroup v1
						  </a></p>
						  <div class="collapse" id="setupDuT">
						  	  <h4>Bootparameter</h4>

							   {% include bootparameter_optimized.html %}
								
							  <h4>Install general dependencies</h4>
							  <p>
							  {% include setup_dut_dependencies.html %}
							  </p>
							  <h4>Install libmoon Dependencies on Host</h4>
							  <p>
							  {% include setup_dut_libmoon_dependencies.html %}
							  </p>
							  <h4>Configure Container and Management Interface</h4>
							  <p>The following requirements apply before the next step: 
							  <ul>
							  <li>A DHCP server for setting the IP address of bridge and container</li>
							  <li>a SSH public key under /root/.ssh/authorized_keys</li>
							  <li><a href="https://github.com/wiednerf/cgroups-nfv/blob/main/scripts/setup/dut/prepare_container.sh">prepare_container.sh</a> script on the DuT under /root </li>
							  </ul>
							{% include setup_host_container_optimized.html %}
								   
						 </div>
						 						<p><a class="btn btn-outline-primary" data-bs-toggle="collapse" href="#setupDuT2" role="button" aria-expanded="false" aria-controls="setupDuT2">
						    DuT CGroup v2
						  </a></p>
						  <div class="collapse" id="setupDuT2">
						  	  <h4>Bootparameter</h4>

							   {% include bootparameter_optimized_v2.html %}
								
							  <h4>Install general dependencies</h4>
							  <p>
							  {% include setup_dut_dependencies.html %}
							  </p>
							  <h4>Install libmoon Dependencies on Host</h4>
							  <p>
							  {% include setup_dut_libmoon_dependencies.html %}
							  </p>
							  <h4>Configure Container and Management Interface</h4>
							  <p>The following requirements apply before the next step: 
							  <ul>
							  <li>A DHCP server for setting the IP address of bridge and container</li>
							  <li>a SSH public key under /root/.ssh/authorized_keys</li>
							  <li><a href="https://github.com/wiednerf/cgroups-nfv/blob/main/scripts/setup/dut/prepare_container.sh">prepare_container.sh</a> script on the DuT under /root </li>
							  </ul>
							{% include setup_host_container_optimized_v2.html %}
								   
						 </div>
						<p><a class="btn btn-outline-primary" data-bs-toggle="collapse" href="#setupContainer" role="button" aria-expanded="false" aria-controls="setupContainer">
						    Container
						  </a></p>
						  <div class="collapse" id="setupContainer">
				
							{% include setup_container_libmoon.html %}
								   
						 </div>
						<div class="mt-5">After setup, the container can now be started using IPMI: <pre><code> ipmitool -I lanplus -H [IP-Adresse] -U ADMIN -P password power on </code></pre></div>
						<p></p>
						<h3>Experiment</h3>
						<hr>
						<p>1. Start Forwarder in the container on the DuT:</p>
						<p><a class="btn btn-outline-primary" data-bs-toggle="collapse" href="#experimentF" role="button" aria-expanded="false" aria-controls="experimentF">
						    Forwarder
						  </a></p>
						  <div class="collapse" id="experimentF">
							  {% include forwarder.html %}
						 </div>
						<p>2. Wait for the forwarder to be finished with the start up, then start MoonGen on the LoadGen:</p>
						<p><a class="btn btn-outline-primary" data-bs-toggle="collapse" href="#experimentL" role="button" aria-expanded="false" aria-controls="experimentL">
						    Loadgenerator: MoonGen
						  </a></p>
						  <div class="collapse" id="experimentL">
							  {% include loadgen.html %}
						 </div>
						<p>3. After MoonGen on the LoadGen has been started and a warm up phase using packets is used. After those packets, we have a break in the execution of 30 seconds, which should be used to start the packet sniffer on the timestamper to record the measurements:</p>
						<p><a class="btn btn-outline-primary" data-bs-toggle="collapse" href="#experimentT" role="button" aria-expanded="false" aria-controls="experimentT">
						    Timer: Capture Packets using MoonGen
						  </a></p>
						  <div class="collapse" id="experimentT">
							  {% include timer.html %}
						 </div>
						<p>4. The timestamper stops automatically after 150 seconds and creates two PCAPs, a latencies-pre.pcap and latencies-post.pcap to the respective side of the evaluation</p>
						<p>5. Repeat Steps 2 to 4 for each rate to be analyzed after saving the PCAPs at another place, because they will be overwritten otherwise.</p>
						
						<h2>Reproduce Figures and Data</h2>
						<h3>Raw PCAP Data</h3>
						<hr>
						<p>All sampled RAW PCAP-Data will be made available after Acceptance due to limited capacity.</p>
						<h3>Evaluation</h3>
						<hr>
						<p><a class="btn btn-outline-primary" data-bs-toggle="collapse" href="#setupE" role="button" aria-expanded="false" aria-controls="setupE">
						    Setup evaluator node
						  </a></p>
						  <div class="collapse" id="setupE">
							  {% include setup-evaluator.html %}
						 </div>
						 <p><a class="btn btn-outline-primary" data-bs-toggle="collapse" href="#evaluateP" role="button" aria-expanded="false" aria-controls="evaluateP">
						    Evaluate PCAPs
						  </a></p>
						  <div class="collapse" id="evaluateP">
							  {% include evaluate-pcaps.html %}
						 </div>
						<p><a class="btn btn-outline-primary" data-bs-toggle="collapse" href="#evaluateC" role="button" aria-expanded="false" aria-controls="evaluateC">
						    Generate Figures from CSVs
						  </a></p>
						  <div class="collapse" id="evaluateC">
							  {% include evaluate-figures.html %}
						 </div>
						<h3>Precompiled CSV Data and Figures</h3>
						<hr>
						<p>The precompiled Figures are available for this measurement in the <a href="https://github.com/wiednerf/cgroups-nfv/tree/main/figures/">Repository</a> and the precompiled CSVs are available under the following <a href="https://github.com/wiednerf/cgroups-nfv/tree/main/measurements/">Repository</a>.</p>

<div class="fadein">
            </div>
          </div>
        </article>
      </div>
    </main>
    {% include footer.html %}
</body></html>
